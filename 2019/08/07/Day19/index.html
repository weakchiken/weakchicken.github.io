<!-- build time:Thu Aug 15 2019 23:19:55 GMT+0800 (GMT+08:00) --><!DOCTYPE html><html class="theme-next mist use-motion" lang="zh-CN"><head><meta name="generator" content="Hexo 3.8.0"><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=2"><script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script><link href="//cdn.bootcss.com/pace/1.0.2/themes/pink/pace-theme-flash.css" rel="stylesheet"><meta name="theme-color" content="#222"><style>.pace .pace-progress{background:#1E92FB;height:2px}.pace .pace-progress-inner{box-shadow:0 0 10px #1E92FB,0 0 5px #1E92FB}.pace .pace-activity{border-top-color:#1E92FB;border-left-color:#1E92FB}</style><script src="/lib/pace/pace.min.js?v=1.0.2"></script><link rel="stylesheet" href="/lib/pace/pace-theme-bounce.min.css?v=1.0.2"><link rel="stylesheet" href="/lib/fancybox/source/jquery.fancybox.css"><link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2"><link rel="stylesheet" href="/css/main.css?v=7.1.1"><link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.1.1"><link rel="icon" type="image/png" sizes="32x32" href="/images/favicon.ico?v=7.1.1"><link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.1.1"><link rel="mask-icon" href="/images/logo.svg?v=7.1.1" color="#222"><script id="hexo.configurations">var NexT=window.NexT||{},CONFIG={root:"/",scheme:"Mist",version:"7.1.1",sidebar:{position:"left",display:"post",offset:12,onmobile:!0,dimmer:!1},back2top:!0,back2top_sidebar:!1,fancybox:!0,fastclick:!1,lazyload:!1,tabs:!0,motion:{enable:!0,async:!1,transition:{post_block:"fadeIn",post_header:"slideDownIn",post_body:"slideDownIn",coll_header:"slideLeftIn",sidebar:"slideUpIn"}},algolia:{applicationID:"",apiKey:"",indexName:"",hits:{per_page:10},labels:{input_placeholder:"Search for Posts",hits_empty:"We didn't find any results for the search: ${query}",hits_stats:"${hits} results found in ${time} ms"}}}</script><script>!function(e,t,o,c,i,a,n){e.DaoVoiceObject=i,e[i]=e[i]||function(){(e[i].q=e[i].q||[]).push(arguments)},e[i].l=1*new Date,a=t.createElement(o),n=t.getElementsByTagName(o)[0],a.async=1,a.src=c,a.charset="utf-8",n.parentNode.insertBefore(a,n)}(window,document,"script",("https:"==document.location.protocol?"https:":"http:")+"//widget.daovoice.io/widget/0f81ff2f.js","daovoice"),daovoice("init",{app_id:"83d60ad3"}),daovoice("update")</script><meta name="description" content="Day19今天讲的是拓扑排序算法努力学习！！OJ链接"><meta name="keywords" content="ACM,Algorithm,算法集训,图论"><meta property="og:type" content="article"><meta property="og:title" content="Day19"><meta property="og:url" content="http://yoursite.com/2019/08/07/Day19/index.html"><meta property="og:site_name" content="Dou Qing"><meta property="og:description" content="Day19今天讲的是拓扑排序算法努力学习！！OJ链接"><meta property="og:locale" content="zh-CN"><meta property="og:updated_time" content="2019-08-07T14:30:57.716Z"><meta name="twitter:card" content="summary"><meta name="twitter:title" content="Day19"><meta name="twitter:description" content="Day19今天讲的是拓扑排序算法努力学习！！OJ链接"><link rel="alternate" href="/atom.xml" title="Dou Qing" type="application/atom+xml"><link rel="canonical" href="http://yoursite.com/2019/08/07/Day19/"><script id="page.configurations">CONFIG.page={sidebar:""}</script><title>Day19 | Dou Qing</title><noscript><style>.sidebar-inner,.use-motion .brand,.use-motion .collection-title,.use-motion .comments,.use-motion .menu-item,.use-motion .motion-element,.use-motion .pagination,.use-motion .post-block,.use-motion .post-body,.use-motion .post-header{opacity:initial}.use-motion .logo,.use-motion .site-subtitle,.use-motion .site-title{opacity:initial;top:initial}.use-motion .logo-line-before i{left:initial}.use-motion .logo-line-after i{right:initial}</style></noscript></head><body itemscope itemtype="http://schema.org/WebPage" lang="zh-CN"><div class="container sidebar-position-left page-post-detail"><div class="headband"></div><header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader"><div class="header-inner"><div class="site-brand-wrapper"><div class="site-meta"><div class="custom-logo-site-title"><a href="/" class="brand" rel="start"><span class="logo-line-before"><i></i></span> <span class="site-title">Dou Qing</span> <span class="logo-line-after"><i></i></span></a></div><p class="site-subtitle">~人间有万紫千红~<br>~唯你是我情之所钟~</p></div><div class="site-nav-toggle"><button aria-label="切换导航栏"><span class="btn-bar"></span> <span class="btn-bar"></span> <span class="btn-bar"></span></button></div></div><nav class="site-nav"><ul id="menu" class="menu"><li class="menu-item menu-item-home"><a href="/" rel="section"><i class="menu-item-icon fa fa-fw fa-home"></i><br>首页</a></li><li class="menu-item menu-item-about"><a href="/about/" rel="section"><i class="menu-item-icon fa fa-fw fa-user"></i><br>关于</a></li><li class="menu-item menu-item-tags"><a href="/tags/" rel="section"><i class="menu-item-icon fa fa-fw fa-tags"></i><br>标签</a></li><li class="menu-item menu-item-categories"><a href="/categories/" rel="section"><i class="menu-item-icon fa fa-fw fa-th"></i><br>分类</a></li><li class="menu-item menu-item-archives"><a href="/archives/" rel="section"><i class="menu-item-icon fa fa-fw fa-archive"></i><br>归档</a></li><li class="menu-item menu-item-search"><a href="javascript:;" class="popup-trigger"><i class="menu-item-icon fa fa-search fa-fw"></i><br>搜索</a></li></ul><div class="site-search"><div class="popup search-popup local-search-popup"><div class="local-search-header clearfix"><span class="search-icon"><i class="fa fa-search"></i> </span><span class="popup-btn-close"><i class="fa fa-times-circle"></i></span><div class="local-search-input-wrapper"><input autocomplete="off" placeholder="搜索..." spellcheck="false" type="text" id="local-search-input"></div></div><div id="local-search-result"></div></div></div></nav></div></header><main id="main" class="main"><div class="main-inner"><div class="content-wrap"><div id="content" class="content"><div id="posts" class="posts-expand"><article class="post post-type-normal" itemscope itemtype="http://schema.org/Article"><div class="post-block"><link itemprop="mainEntityOfPage" href="http://yoursite.com/2019/08/07/Day19/"><span hidden itemprop="author" itemscope itemtype="http://schema.org/Person"><meta itemprop="name" content="Yan"><meta itemprop="description" content="学无止境 <br> 正是因为不会不懂，才会选择去学习"><meta itemprop="image" content="/images/touxiang2.png"></span><span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization"><meta itemprop="name" content="Dou Qing"></span><header class="post-header"><h1 class="post-title" itemprop="name headline">Day19</h1><div class="post-meta"><span class="post-time"><span class="post-meta-item-icon"><i class="fa fa-calendar-o"></i> </span><span class="post-meta-item-text">发表于</span> <time title="创建时间：2019-08-07 00:00:00 / 修改时间：22:30:57" itemprop="dateCreated datePublished" datetime="2019-08-07T00:00:00+08:00">2019-08-07</time> </span><span class="post-category"><span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-folder-o"></i> </span><span class="post-meta-item-text">分类于</span> <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ACM/" itemprop="url" rel="index"><span itemprop="name">ACM</span></a></span> ， <span itemprop="about" itemscope itemtype="http://schema.org/Thing"><a href="/categories/ACM/集训/" itemprop="url" rel="index"><span itemprop="name">集训</span></a></span></span><div class="post-symbolscount"><span class="post-meta-item-icon"><i class="fa fa-file-word-o"></i> </span><span class="post-meta-item-text">本文字数：</span> <span title="本文字数">22k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-clock-o"></i> </span><span class="post-meta-item-text">阅读时长 &asymp;</span> <span title="阅读时长">20 分钟</span></div></div></header><div class="post-body" itemprop="articleBody"><h1 id="Day19"><a href="#Day19" class="headerlink" title="Day19"></a>Day19</h1><p>今天讲的是拓扑排序算法<br>努力学习！！<br><a href="https://vjudge.net/contest/317983#overview" target="_blank" rel="noopener">OJ链接</a><br><a id="more"></a></p><h2 id="加一个-假-模板"><a href="#加一个-假-模板" class="headerlink" title="加一个(假)模板"></a>加一个(假)模板</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int in[10100];// 存入度</span><br><span class="line">vector&lt;int&gt; v[10100];// 存关系 构建图</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int m,n;</span><br><span class="line">	int x,y;</span><br><span class="line">	while(cin&gt;&gt;n&gt;&gt;m)// 根据题目要求可以改动</span><br><span class="line">	&#123;</span><br><span class="line">		memset(in,0,sizeof(in));// 清空入度</span><br><span class="line">		for(int i=1;i&lt;=n;i++) v[i].clear() ;// 清空vector</span><br><span class="line">		while(m--)// m组数据</span><br><span class="line">		&#123;</span><br><span class="line">			cin&gt;&gt;y&gt;&gt;x;</span><br><span class="line">			in[y]++;// y的关系大于x，x指向y y的入度+1；</span><br><span class="line">			v[x].push_back(y);// 就 y 放在 x后面</span><br><span class="line">		&#125;</span><br><span class="line">		queue&lt;int&gt;q;// 定义一个队列 最为节点的删除</span><br><span class="line">		for(int i=1;i&lt;=n;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(!in[i]) &#123; // 入度为零的节点放入 队列</span><br><span class="line">				q.push(i);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		while(!q.empty() )</span><br><span class="line">		&#123;</span><br><span class="line">			int xx=q.front() ; // 如果队列中一次存了大于 2 个节点</span><br><span class="line">			q.pop() ; //说明该图有 2-&gt;3 &amp;&amp; 2-&gt;4 这种情况 有点个点之间没有关系</span><br><span class="line">			n--; // 总节点数 -1；</span><br><span class="line">			for(int i=0;i&lt;v[xx].size() ;i++) // 遍历这个节点后面的 点</span><br><span class="line">			&#123;</span><br><span class="line">				int yy=v[xx][i];</span><br><span class="line">				in[yy]--; // 删除 x 后 yy 的入度就 -1；</span><br><span class="line">				if(!in[yy]) &#123; // 如果此时 yy 入度为零放入队列 遍历他的下一个节点</span><br><span class="line">					q.push(yy);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if(n) cout&lt;&lt;&quot;该图有环&quot;&lt;&lt;endl; // 如果总结点数没减为零 说明有环的存在</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Genealogical-tree"><a href="#Genealogical-tree" class="headerlink" title="Genealogical tree"></a>Genealogical tree</h1><p>Description:<br>The system of Martians’ blood relations is confusing enough. Actually, Martians bud when they want and where they want. They gather together in different groups, so that a Martian can have one parent as well as ten. Nobody will be surprised by a hundred of children. Martians have got used to this and their style of life seems to them natural.<br>And in the Planetary Council the confusing genealogical system leads to some embarrassment. There meet the worthiest of Martians, and therefore in order to offend nobody in all of the discussions it is used first to give the floor to the old Martians, than to the younger ones and only than to the most young childless assessors. However, the maintenance of this order really is not a trivial task. Not always Martian knows all of his parents (and there’s nothing to tell about his grandparents!). But if by a mistake first speak a grandson and only than his young appearing great-grandfather, this is a real scandal.<br>Your task is to write a program, which would define once and for all, an order that would guarantee that every member of the Council takes the floor earlier than each of his descendants.<br><code>Input</code><br>The first line of the standard input contains an only number N, 1 &lt;= N &lt;= 100 — a number of members of the Martian Planetary Council. According to the centuries-old tradition members of the Council are enumerated with the natural numbers from 1 up to N. Further, there are exactly N lines, moreover, the I-th line contains a list of I-th member’s children. The list of children is a sequence of serial numbers of children in a arbitrary order separated by spaces. The list of children may be empty. The list (even if it is empty) ends with 0.<br><code>Output</code><br>The standard output should contain in its only line a sequence of speakers’ numbers, separated by spaces. If several sequences satisfy the conditions of the problem, you are to write to the standard output any of them. At least one such sequence always exists.<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">5</span><br><span class="line">0</span><br><span class="line">4 5 1 0</span><br><span class="line">1 0</span><br><span class="line">5 3 0</span><br><span class="line">3 0</span><br><span class="line">Sample Output</span><br><span class="line">2 4 5 3 1</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int mod = 1e9;</span><br><span class="line">const int maxx = 1e5;</span><br><span class="line">int in[maxx];</span><br><span class="line">vector&lt;int&gt; v[maxx];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n, m, x, y;</span><br><span class="line">	while(~scanf(&quot;%d&quot;,&amp;n))</span><br><span class="line">	&#123;</span><br><span class="line">		//清空图 </span><br><span class="line">		memset(in, 0, sizeof in);</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			v[i].clear();</span><br><span class="line">		&#125;</span><br><span class="line">		//存图，找度数 </span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			for(int j = 1;; j ++)</span><br><span class="line">			&#123;</span><br><span class="line">				scanf(&quot;%d&quot;,&amp;x);</span><br><span class="line">				if(x == 0) break;</span><br><span class="line">				v[i].push_back(x);</span><br><span class="line">				in[x] ++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q;</span><br><span class="line">		//找到0入度，加入队列 </span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(in[i] == 0)</span><br><span class="line">				q.push(i);</span><br><span class="line">		&#125;</span><br><span class="line">		int flag = 1;</span><br><span class="line">		while(!q.empty())</span><br><span class="line">		&#123;</span><br><span class="line">			int xx = q.top();</span><br><span class="line">			q.pop();</span><br><span class="line">			if(flag)</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; xx;</span><br><span class="line">				flag = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			else cout &lt;&lt; &quot; &quot; &lt;&lt; xx;</span><br><span class="line">			for(int i = 0; i &lt; v[xx].size(); i ++)</span><br><span class="line">			&#123;</span><br><span class="line">				in[v[xx][i]] --;</span><br><span class="line">				if(in[v[xx][i]] == 0)</span><br><span class="line">				&#123;</span><br><span class="line">					q.push(v[xx][i]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; </span><br><span class="line">		&#125;</span><br><span class="line">		puts(&quot;&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h1 id="Window-Pains"><a href="#Window-Pains" class="headerlink" title="Window Pains"></a>Window Pains</h1><p>Description:<br>Boudreaux likes to multitask, especially when it comes to using his computer. Never satisfied with just running one application at a time, he usually runs nine applications, each in its own window. Due to limited screen real estate, he overlaps these windows and brings whatever window he currently needs to work with to the foreground. If his screen were a 4 x 4 grid of squares, each of Boudreaux’s windows would be represented by the following 2 x 2 windows:</p><p>When Boudreaux brings a window to the foreground, all of its squares come to the top, overlapping any squares it shares with other windows. For example, if window 1 and then window 2 were brought to the foreground, the resulting representation would be:</p><p>If window 4 were then brought to the foreground:</p><p>. . . and so on . . .<br>Unfortunately, Boudreaux’s computer is very unreliable and crashes often. He could easily tell if a crash occurred by looking at the windows and seeing a graphical representation that should not occur if windows were being brought to the foreground correctly. And this is where you come in . . .</p><p><code>Input</code><br>Input to this problem will consist of a (non-empty) series of up to 100 data sets. Each data set will be formatted according to the following description, and there will be no blank lines separating data sets.</p><p>A single data set has 3 components:<br>Start line - A single line:<br>START</p><p>Screen Shot - Four lines that represent the current graphical representation of the windows on Boudreaux’s screen. Each position in this 4 x 4 matrix will represent the current piece of window showing in each square. To make input easier, the list of numbers on each line will be delimited by a single space.<br>End line - A single line:<br>END</p><p>After the last data set, there will be a single line:<br>ENDOFINPUT</p><p>Note that each piece of visible window will appear only in screen areas where the window could appear when brought to the front. For instance, a 1 can only appear in the top left quadrant.<br><code>Output</code><br>For each data set, there will be exactly one line of output. If there exists a sequence of bringing windows to the foreground that would result in the graphical representation of the windows on Boudreaux’s screen, the output will be a single line with the statement:</p><p>THESE WINDOWS ARE CLEAN</p><p>Otherwise, the output will be a single line with the statement:<br>THESE WINDOWS ARE BROKEN</p><p>题意：<br>给你一个4<em>4的棋盘窗口,现在电脑上有9个应用,每个应用占用固定的2</em>2正方形网格位置.你通过不同的顺序操作9个应用可以使得4<em>4的窗口当前显示的内容(数字代表)不同,现在给你一个4</em>4棋盘窗口的内容,问你这个内容是否合法.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">START</span><br><span class="line">1 2 3 3</span><br><span class="line">4 5 6 6</span><br><span class="line">7 8 9 9</span><br><span class="line">7 8 9 9</span><br><span class="line">END</span><br><span class="line">START</span><br><span class="line">1 1 3 3</span><br><span class="line">4 1 3 3</span><br><span class="line">7 7 9 9</span><br><span class="line">7 7 9 9</span><br><span class="line">END</span><br><span class="line">ENDOFINPUT</span><br><span class="line"></span><br><span class="line">Sample Output</span><br><span class="line">THESE WINDOWS ARE CLEAN</span><br><span class="line">THESE WINDOWS ARE BROKEN</span><br></pre></td></tr></table></figure><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;cstdio&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;vector&gt;</span><br><span class="line">#include&lt;queue&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int maxn=10;</span><br><span class="line">vector&lt;int&gt; value[maxn][maxn];</span><br><span class="line">int dr[]=&#123;0,1,0,1&#125;;//原地,下,右,右下</span><br><span class="line">int dc[]=&#123;0,0,1,1&#125;;</span><br><span class="line">int G[maxn][maxn]; //图</span><br><span class="line">int in[maxn];      //入度</span><br><span class="line"> </span><br><span class="line">bool topo()</span><br><span class="line">&#123;</span><br><span class="line">    queue&lt;int&gt; Q;</span><br><span class="line">    for(int i=0;i&lt;9;i++)</span><br><span class="line">        if(in[i]==0) Q.push(i);</span><br><span class="line">    int sum=0;//记录我们删除的0入度点</span><br><span class="line">    while(!Q.empty())</span><br><span class="line">    &#123;</span><br><span class="line">        int u=Q.front(); Q.pop();</span><br><span class="line">        for(int v=0;v&lt;9;v++)if(G[u][v])</span><br><span class="line">        &#123;</span><br><span class="line">            G[u][v]=0;</span><br><span class="line">            if(--in[v]==0) Q.push(v);</span><br><span class="line">        &#125;</span><br><span class="line">        sum++;</span><br><span class="line">    &#125;</span><br><span class="line">    return sum==9;</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">    for(int i=0;i&lt;9;i++)                //处理0-8每个应用所在的方格vector</span><br><span class="line">    &#123;</span><br><span class="line">        int r=i/3, c=i%3;               //i应用左上角的格子所在的(r,c)</span><br><span class="line">        for(int dir=0;dir&lt;4;dir++)      //i应用所在的其他3个点</span><br><span class="line">        &#123;</span><br><span class="line">            int nr=r+dr[dir], nc=c+dc[dir];</span><br><span class="line">            value[nr][nc].push_back(i); //将i压入对应方格的vector中</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    char str[100];</span><br><span class="line">    while(scanf(&quot;%s&quot;,str)==1&amp;&amp;str[0]!=&apos;E&apos;)</span><br><span class="line">    &#123;</span><br><span class="line">        memset(G,0,sizeof(G));</span><br><span class="line">        memset(in,0,sizeof(in));</span><br><span class="line">        for(int i=0;i&lt;4;i++)</span><br><span class="line">        for(int j=0;j&lt;4;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            int v;</span><br><span class="line">            scanf(&quot;%d&quot;,&amp;v);</span><br><span class="line">            v--;</span><br><span class="line">            for(int k=0;k&lt;value[i][j].size();k++)</span><br><span class="line">            if((value[i][j])[k]!=v)//构造有向边</span><br><span class="line">            &#123;</span><br><span class="line">                int x=(value[i][j])[k];</span><br><span class="line">                if(G[x][v]==0)//一定要做这个判断,因为会重复添加有向边</span><br><span class="line">                &#123;</span><br><span class="line">                    in[v]++;</span><br><span class="line">                    G[x][v]=1;</span><br><span class="line">                &#125;</span><br><span class="line">                //printf(&quot;当前格子为:(%d,%d),当前边为:%d v=%d, %d点的入度为%d\n&quot;,i,j,x,v,v,in[v]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        if(topo()) printf(&quot;THESE WINDOWS ARE CLEAN\n&quot;);</span><br><span class="line">        else printf(&quot;THESE WINDOWS ARE BROKEN\n&quot;);</span><br><span class="line">        scanf(&quot;%s&quot;,str);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h1 id="确定比赛名次（拓扑排序）"><a href="#确定比赛名次（拓扑排序）" class="headerlink" title="确定比赛名次（拓扑排序）"></a>确定比赛名次（拓扑排序）</h1><p>Description:<br>有N个比赛队（1&lt;=N&lt;=500），编号依次为1，2，3，。。。。，N进行比赛，比赛结束后，裁判委员会要将所有参赛队伍从前往后依次排名，但现在裁判委员会不能直接获得每个队的比赛成绩，只知道每场比赛的结果，即P1赢P2，用P1，P2表示，排名时P1在P2之前。现在请你编程序确定排名。<br><code>Input</code><br>输入有若干组，每组中的第一行为二个数N（1&lt;=N&lt;=500），M；其中N表示队伍的个数，M表示接着有M行的输入数据。接下来的M行数据中，每行也有两个整数P1，P2表示即P1队赢了P2队。<br><code>Output</code><br>给出一个符合要求的排名。输出时队伍号之间有空格，最后一名后面没有空格。</p><p>其他说明：符合条件的排名可能不是唯一的，此时要求输出时编号小的队伍在前；输入数据保证是正确的，即输入数据确保一定能有一个符合要求的排名。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">4 3</span><br><span class="line">1 2</span><br><span class="line">2 3</span><br><span class="line">4 3</span><br><span class="line">Sample Output</span><br><span class="line">1 2 4 3</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int mod = 1e9;</span><br><span class="line">const int maxx = 1e5;</span><br><span class="line">int in[maxx];</span><br><span class="line">vector&lt;int&gt; v[maxx];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n, m, x, y;</span><br><span class="line">	while(~scanf(&quot;%d%d&quot;,&amp;n,&amp;m))</span><br><span class="line">	&#123;</span><br><span class="line">		//清空图 </span><br><span class="line">		memset(in, 0, sizeof in);</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			v[i].clear();</span><br><span class="line">		&#125;</span><br><span class="line">		//存图，找度数 </span><br><span class="line">		while(m --)</span><br><span class="line">		&#123;</span><br><span class="line">			scanf(&quot;%d%d&quot;,&amp;x, &amp;y);</span><br><span class="line">			v[x].push_back(y);</span><br><span class="line">			in[y] ++;</span><br><span class="line">		&#125;</span><br><span class="line">		priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q;</span><br><span class="line">		//找到0入度，加入队列 </span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(in[i] == 0)</span><br><span class="line">				q.push(i);</span><br><span class="line">		&#125;</span><br><span class="line">		int flag = 1;</span><br><span class="line">		while(!q.empty())</span><br><span class="line">		&#123;</span><br><span class="line">			int xx = q.top();</span><br><span class="line">			q.pop();</span><br><span class="line">			if(flag)</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; xx;</span><br><span class="line">				flag = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			else cout &lt;&lt; &quot; &quot; &lt;&lt; xx;</span><br><span class="line">			for(int i = 0; i &lt; v[xx].size(); i ++)</span><br><span class="line">			&#123;</span><br><span class="line">				in[v[xx][i]] --;</span><br><span class="line">				if(in[v[xx][i]] == 0)</span><br><span class="line">				&#123;</span><br><span class="line">					q.push(v[xx][i]);</span><br><span class="line">				&#125;</span><br><span class="line">			&#125; </span><br><span class="line">		&#125;</span><br><span class="line">		puts(&quot;&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h1 id="产生冠军"><a href="#产生冠军" class="headerlink" title="产生冠军"></a>产生冠军</h1><p>Description:<br>有一群人，打乒乓球比赛，两两捉对撕杀，每两个人之间最多打一场比赛。<br>球赛的规则如下：<br>如果A打败了B，B又打败了C，而A与C之间没有进行过比赛，那么就认定，A一定能打败C。<br>如果A打败了B，B又打败了C，而且，C又打败了A，那么A、B、C三者都不可能成为冠军。<br>根据这个规则，无需循环较量，或许就能确定冠军。你的任务就是面对一群比赛选手，在经过了若干场撕杀之后，确定是否已经实际上产生了冠军。<br><code>Input</code><br>输入含有一些选手群，每群选手都以一个整数n(n&lt;1000)开头，后跟n对选手的比赛结果，比赛结果以一对选手名字（中间隔一空格）表示，前者战胜后者。如果n为0，则表示输入结束。<br><code>Output</code><br>对于每个选手群，若你判断出产生了冠军，则在一行中输出“Yes”，否则在一行中输出“No”。<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">3</span><br><span class="line">Alice Bob</span><br><span class="line">Smith John</span><br><span class="line">Alice Smith</span><br><span class="line">5</span><br><span class="line">a c</span><br><span class="line">c d</span><br><span class="line">d e</span><br><span class="line">b e</span><br><span class="line">a d</span><br><span class="line">0</span><br><span class="line">Sample Output</span><br><span class="line">Yes</span><br><span class="line">No</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br></pre></td><td class="code"><pre><span class="line">//第一种方法</span><br><span class="line">//set方法 </span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;set&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n;</span><br><span class="line">	string s1, s2;</span><br><span class="line">	set&lt;string&gt; all, loser;</span><br><span class="line">	while(~scanf(&quot;%d&quot;,&amp;n))</span><br><span class="line">	&#123;</span><br><span class="line">		if(n == 0) break;</span><br><span class="line">		all.clear();</span><br><span class="line">		loser.clear();</span><br><span class="line">		while(n --)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">			all.insert(s1);</span><br><span class="line">			all.insert(s2);</span><br><span class="line">			loser.insert(s2);</span><br><span class="line">		&#125;</span><br><span class="line">		cout &lt;&lt; (all.size() - loser.size() == 1 ? &quot;Yes&quot; : &quot;No&quot;) &lt;&lt; endl;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//第二种：</span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;stdio.h&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;algorithm&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int mod = 1e9;</span><br><span class="line">const int maxx = 1e4 + 10;</span><br><span class="line">int in[maxx];</span><br><span class="line">//int edge[maxx][maxx];//用于构图但是这一题没有用到 </span><br><span class="line">bool slove(int n)</span><br><span class="line">&#123;</span><br><span class="line">	int sum = 0;</span><br><span class="line">	for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(in[i] == 0)</span><br><span class="line">			sum ++;</span><br><span class="line">	&#125;</span><br><span class="line">	if(sum == 1) return true;</span><br><span class="line">	return false;</span><br><span class="line"> &#125; </span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n;</span><br><span class="line">	map&lt;string, int&gt; mp;</span><br><span class="line">	while(~scanf(&quot;%d&quot;,&amp;n))</span><br><span class="line">	&#123;</span><br><span class="line">		if(n == 0) break;</span><br><span class="line">		//清空图 </span><br><span class="line">		mp.clear();</span><br><span class="line">		memset(in, 0, sizeof in);</span><br><span class="line">//		memset(edge, 0, sizeof edge);//没用到 </span><br><span class="line">		string s1, s2;</span><br><span class="line">		int t = 1; </span><br><span class="line">		//存图</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; s1 &gt;&gt; s2;</span><br><span class="line">			if(!mp[s1]) mp[s1] = t ++;</span><br><span class="line">			if(!mp[s2]) mp[s2] = t ++;</span><br><span class="line">//			edge[mp[s1]][mp[s2]] = 1;//没用到</span><br><span class="line">			in[mp[s2]] ++; </span><br><span class="line">		&#125;</span><br><span class="line">		t --;</span><br><span class="line">		if(slove(t)) puts(&quot;Yes&quot;);</span><br><span class="line">		else puts(&quot;No&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">//第三种：</span><br><span class="line">//map的另一种做法 </span><br><span class="line">#include&lt;iostream&gt;</span><br><span class="line">#include&lt;cstring&gt;</span><br><span class="line">#include&lt;map&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n, cnt;</span><br><span class="line">	map&lt;string, int&gt; mp;</span><br><span class="line">	string winner, loser;</span><br><span class="line">	</span><br><span class="line">	while(~scanf(&quot;%d&quot;,&amp;n))</span><br><span class="line">	&#123;</span><br><span class="line">		if(n == 0) break;</span><br><span class="line">		mp.clear();</span><br><span class="line">		cnt = 0;</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; winner &gt;&gt; loser;</span><br><span class="line">			if(mp.find(winner) == mp.end())</span><br><span class="line">				mp[winner] = 1;</span><br><span class="line">			mp[loser] = 0;</span><br><span class="line">		&#125;</span><br><span class="line">		map&lt;string, int&gt; :: iterator it;</span><br><span class="line">		for(it = mp.begin(); it != mp.end(); it ++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(it -&gt; second)</span><br><span class="line">				cnt ++;</span><br><span class="line">		&#125;</span><br><span class="line">		if(cnt == 1) puts(&quot;Yes&quot;);</span><br><span class="line">		else puts(&quot;No&quot;);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h1 id="Legal-or-Not"><a href="#Legal-or-Not" class="headerlink" title="Legal or Not"></a>Legal or Not</h1><p>Description:<br>ACM-DIY is a large QQ group where many excellent acmers get together. It is so harmonious that just like a big family. Every day,many “holy cows” like HH, hh, AC, ZT, lcc, BF, Qinz and so on chat on-line to exchange their ideas. When someone has questions, many warm-hearted cows like Lost will come to help. Then the one being helped will call Lost “master”, and Lost will have a nice “prentice”. By and by, there are many pairs of “master and prentice”. But then problem occurs: there are too many masters and too many prentices, how can we know whether it is legal or not?</p><p>We all know a master can have many prentices and a prentice may have a lot of masters too, it’s legal. Nevertheless，some cows are not so honest, they hold illegal relationship. Take HH and 3xian for instant, HH is 3xian’s master and, at the same time, 3xian is HH’s master,which is quite illegal! To avoid this,please help us to judge whether their relationship is legal or not.</p><p>Please note that the “master and prentice” relation is transitive. It means that if A is B’s master ans B is C’s master, then A is C’s master.<br><code>Input</code><br>The input consists of several test cases. For each case, the first line contains two integers, N (members to be tested) and M (relationships to be tested)(2 &lt;= N, M &lt;= 100). Then M lines follow, each contains a pair of (x, y) which means x is y’s master and y is x’s prentice. The input is terminated by N = 0.<br>TO MAKE IT SIMPLE, we give every one a number (0, 1, 2,…, N-1). We use their numbers instead of their names.<br><code>Output</code><br>For each test case, print in one line the judgement of the messy relationship.<br>If it is legal, output “YES”, otherwise “NO”.<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">3 2</span><br><span class="line">0 1</span><br><span class="line">1 2</span><br><span class="line">2 2</span><br><span class="line">0 1</span><br><span class="line">1 0</span><br><span class="line">0 0</span><br><span class="line">Sample Output</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int mod = 1e9;</span><br><span class="line">const int maxx = 1e5;</span><br><span class="line">int in[maxx];</span><br><span class="line">vector&lt;int&gt; v[maxx];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n, m, x, y;</span><br><span class="line">	while(~scanf(&quot;%d&quot;,&amp;n))</span><br><span class="line">	&#123;</span><br><span class="line">		if(n == 0) break;</span><br><span class="line">		scanf(&quot;%d&quot;,&amp;m);</span><br><span class="line">		memset(in, 0, sizeof in);</span><br><span class="line">		for(int i = 0; i &lt; n; i ++)</span><br><span class="line">			v[i].clear();</span><br><span class="line">		for(int i = 0; i &lt; m; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">			v[x].push_back(y);</span><br><span class="line">			in[y] ++;</span><br><span class="line">		&#125;</span><br><span class="line">//		priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q;</span><br><span class="line">		queue&lt;int&gt; q;</span><br><span class="line">		int flag = 1, cnt = 0;</span><br><span class="line">		for(int i = 0; i &lt; n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(in[i] == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				q.push(i);</span><br><span class="line">			&#125;	</span><br><span class="line">		&#125;</span><br><span class="line">		while(!q.empty())</span><br><span class="line">		&#123;</span><br><span class="line">			int xx = q.front();</span><br><span class="line">			q.pop();</span><br><span class="line">			n --;</span><br><span class="line">			if(cnt &gt;= n) continue;</span><br><span class="line">			for(int i = 0; i &lt; v[xx].size(); i ++)</span><br><span class="line">			&#123;</span><br><span class="line">				in[v[xx][i]] --;</span><br><span class="line">				if(in[v[xx][i]] == 0)</span><br><span class="line">					q.push(v[xx][i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		if(n) puts(&quot;NO&quot;);</span><br><span class="line">		else puts(&quot;YES&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h1 id="Reward"><a href="#Reward" class="headerlink" title="Reward"></a>Reward</h1><p>Description:<br>Dandelion’s uncle is a boss of a factory. As the spring festival is coming , he wants to distribute rewards to his workers. Now he has a trouble about how to distribute the rewards.<br>The workers will compare their rewards ,and some one may have demands of the distributing of rewards ,just like a’s reward should more than b’s.Dandelion’s unclue wants to fulfill all the demands, of course ,he wants to use the least money.Every work’s reward will be at least 888 , because it’s a lucky number.<br><code>Input</code><br>One line with two integers n and m ,stands for the number of works and the number of demands .(n&lt;=10000,m&lt;=20000)<br>then m lines ,each line contains two integers a and b ,stands for a’s reward should be more than b’s.<br><code>Output</code><br>For every case ,print the least money dandelion ‘s uncle needs to distribute .If it’s impossible to fulfill all the works’ demands ,print -1.<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">2 1</span><br><span class="line">1 2</span><br><span class="line">2 2</span><br><span class="line">1 2</span><br><span class="line">2 1</span><br><span class="line">Sample Output</span><br><span class="line">1777</span><br><span class="line">-1</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">typedef long long ll;</span><br><span class="line">const int mod = 1e9;</span><br><span class="line">const int maxx = 1e5;</span><br><span class="line">int in[maxx], sum[maxx];</span><br><span class="line">vector&lt;int&gt; v[maxx];</span><br><span class="line"> </span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n, m, x, y;</span><br><span class="line">	</span><br><span class="line">	while(~scanf(&quot;%d %d&quot;,&amp;n, &amp;m))</span><br><span class="line">	&#123;</span><br><span class="line">		memset(in, 0, sizeof in);</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">			v[i].clear();</span><br><span class="line">		for(int i = 1; i &lt;= m; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; y &gt;&gt; x;</span><br><span class="line">			v[x].push_back(y);</span><br><span class="line">			in[y] ++;</span><br><span class="line">		&#125;</span><br><span class="line">		queue&lt;int&gt; q;</span><br><span class="line">		int ans = 0, k = 0;</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">			if(in[i] == 0)</span><br><span class="line">			&#123;</span><br><span class="line">				q.push(i);</span><br><span class="line">				sum[i] = 888;</span><br><span class="line">			&#125;	</span><br><span class="line">		while(!q.empty())</span><br><span class="line">		&#123;</span><br><span class="line">			int xx = q.front();</span><br><span class="line">			q.pop();</span><br><span class="line">			k ++;</span><br><span class="line">			for(int i = 0; i &lt; v[xx].size(); i ++)</span><br><span class="line">			&#123;</span><br><span class="line">				in[v[xx][i]] --;</span><br><span class="line">				if(in[v[xx][i]] == 0)</span><br><span class="line">				&#123;</span><br><span class="line">					q.push(v[xx][i]);</span><br><span class="line">					sum[v[xx][i]] = sum[xx] + 1;</span><br><span class="line">				&#125;</span><br><span class="line">					</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">			ans += sum[i];</span><br><span class="line">		if(n != k) puts(&quot;-1&quot;);</span><br><span class="line">		else cout &lt;&lt; ans &lt;&lt; endl; </span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="Ordering-Tasks"><a href="#Ordering-Tasks" class="headerlink" title="Ordering Tasks"></a>Ordering Tasks</h2><p>Description:<br>John has n tasks to do. Unfortunately, the tasks are not independent and the execution of one task is<br>only possible if other tasks have already been executed.<br>Input<br>The input will consist of several instances of the problem. Each instance begins with a line containing<br>two integers, 1 ≤ n ≤ 100 and m. n is the number of tasks (numbered from 1 to n) and m is the<br>number of direct precedence relations between tasks. After this, there will be m lines with two integers<br>i and j, representing the fact that task i must be executed before task j.<br>An instance with n = m = 0 will finish the input.<br>Output<br>For each instance, print a line with n integers representing the tasks in a possible order of execution.<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">5 4</span><br><span class="line">1 2</span><br><span class="line">2 3</span><br><span class="line">1 3</span><br><span class="line">1 5</span><br><span class="line">0 0</span><br><span class="line">Sample Output</span><br><span class="line">1 4 2 5 3</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line">#include&lt;bits/stdc++.h&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">const int mod = 1e9;</span><br><span class="line">const int maxx = 1e5;</span><br><span class="line">int in[maxx];</span><br><span class="line">vector&lt;int&gt; v[maxx];</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	int n, m, x, y;</span><br><span class="line">	while(~scanf(&quot;%d%d&quot;,&amp;n, &amp;m))</span><br><span class="line">	&#123;</span><br><span class="line">		if(n == 0 &amp;&amp; m == 0) break;</span><br><span class="line">		memset(in, 0, sizeof in);</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">			v[i].clear();</span><br><span class="line">		for(int i = 1; i &lt;= m; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			cin &gt;&gt; x &gt;&gt; y;</span><br><span class="line">			v[x].push_back(y);</span><br><span class="line">			in[y] ++;</span><br><span class="line">		&#125;</span><br><span class="line">//		priority_queue&lt;int, vector&lt;int&gt;, greater&lt;int&gt; &gt; q;</span><br><span class="line">		queue&lt;int&gt; q;</span><br><span class="line">		for(int i = 1; i &lt;= n; i ++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(in[i] == 0)</span><br><span class="line">				q.push(i);</span><br><span class="line">		&#125;</span><br><span class="line">		int flag = 1;</span><br><span class="line">		while(!q.empty())</span><br><span class="line">		&#123;</span><br><span class="line">			int xx = q.front();</span><br><span class="line">			q.pop();</span><br><span class="line">			if(flag)</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; xx;</span><br><span class="line">				flag = 0;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				cout &lt;&lt; &quot; &quot; &lt;&lt; xx; </span><br><span class="line">			&#125;</span><br><span class="line">			for(int i = 0; i &lt; v[xx].size(); i ++)</span><br><span class="line">			&#123;</span><br><span class="line">				in[v[xx][i]] --;</span><br><span class="line">				if(in[v[xx][i]] == 0)</span><br><span class="line">					q.push(v[xx][i]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		puts(&quot;&quot;);</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	return 0;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p><h2 id="Rank-of-Tetris"><a href="#Rank-of-Tetris" class="headerlink" title="Rank of Tetris"></a>Rank of Tetris</h2><p>Description:<br>自从Lele开发了Rating系统，他的Tetris事业更是如虎添翼，不久他遍把这个游戏推向了全球。</p><p>为了更好的符合那些爱好者的喜好，Lele又想了一个新点子：他将制作一个全球Tetris高手排行榜，定时更新，名堂要比福布斯富豪榜还响。关于如何排名，这个不用说都知道是根据Rating从高到低来排，如果两个人具有相同的Rating，那就按这几个人的RP从高到低来排。</p><p>终于，Lele要开始行动了，对N个人进行排名。为了方便起见，每个人都已经被编号，分别从0到N-1,并且编号越大，RP就越高。<br>同时Lele从狗仔队里取得一些（M个）关于Rating的信息。这些信息可能有三种情况，分别是”A &gt; B”,”A = B”,”A &lt; B”，分别表示A的Rating高于B,等于B,小于B。</p><p>现在Lele并不是让你来帮他制作这个高手榜，他只是想知道，根据这些信息是否能够确定出这个高手榜，是的话就输出”OK”。否则就请你判断出错的原因，到底是因为信息不完全（输出”UNCERTAIN”），还是因为这些信息中包含冲突（输出”CONFLICT”）。<br>注意，如果信息中同时包含冲突且信息不完全，就输出”CONFLICT”。<br><code>Input</code><br>本题目包含多组测试，请处理到文件结束。<br>每组测试第一行包含两个整数N,M(0&lt;=N&lt;=10000,0&lt;=M&lt;=20000),分别表示要排名的人数以及得到的关系数。<br>接下来有M行，分别表示这些关系<br><code>Output</code><br>对于每组测试，在一行里按题目要求输出<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">Sample Input</span><br><span class="line">3 3</span><br><span class="line">0 &gt; 1</span><br><span class="line">1 &lt; 2</span><br><span class="line">0 &gt; 2</span><br><span class="line">4 4</span><br><span class="line">1 = 2</span><br><span class="line">1 &gt; 3</span><br><span class="line">2 &gt; 0</span><br><span class="line">0 &gt; 1</span><br><span class="line">3 3</span><br><span class="line">1 &gt; 0</span><br><span class="line">1 &gt; 2</span><br><span class="line">2 &lt; 1</span><br><span class="line">Sample Output</span><br><span class="line">OK</span><br><span class="line">CONFLICT</span><br><span class="line">UNCERTAIN</span><br></pre></td></tr></table></figure><p></p><p>code:<br></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">#include &lt;stdio.h&gt;</span><br><span class="line">#include &lt;string.h&gt;</span><br><span class="line">#include &lt;vector&gt;</span><br><span class="line">#include &lt;queue&gt;</span><br><span class="line">using namespace std;</span><br><span class="line">struct node//边</span><br><span class="line">&#123;</span><br><span class="line">	int a,b;//顶点</span><br><span class="line">	char ch;//运算符</span><br><span class="line">&#125;c[10005];</span><br><span class="line">vector&lt;int&gt;map[10005];//map数组存贮邻接表</span><br><span class="line">int n,m,sum,in[10005],fa[10005];//in数组表示入度,fa[i]表示顶点i所在集合的根节点</span><br><span class="line">int find(int x)//查找根节点</span><br><span class="line">&#123;</span><br><span class="line">	if(fa[x]!=x) fa[x]=find(fa[x]);</span><br><span class="line">	return fa[x];</span><br><span class="line">&#125;</span><br><span class="line">bool comb(int x,int y)//合并集合</span><br><span class="line">&#123;</span><br><span class="line">	x=find(x);</span><br><span class="line">	y=find(y);</span><br><span class="line">	if(x==y)</span><br><span class="line">	return false;</span><br><span class="line">	else</span><br><span class="line">	&#123;</span><br><span class="line">		fa[y]=x;</span><br><span class="line">		return true;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">void init()//初始化</span><br><span class="line">&#123;</span><br><span class="line">	for(int i=0;i&lt;n;i++)</span><br><span class="line">	fa[i]=i;</span><br><span class="line">&#125;</span><br><span class="line">void top_sort()//queue实现拓扑排序</span><br><span class="line">&#123;</span><br><span class="line">	queue&lt;int&gt;s;</span><br><span class="line">	int flag=0;</span><br><span class="line">	for(int i=0;i&lt;n;i++)</span><br><span class="line">	&#123;</span><br><span class="line">		if(in[i]==0&amp;&amp;fa[i]==i)</span><br><span class="line">		s.push(i);</span><br><span class="line">	&#125;</span><br><span class="line">	while(!s.empty())</span><br><span class="line">	&#123;</span><br><span class="line">		if(s.size()&gt;1)//即使发现信息不完整也要继续运行下去，因为如果信息同时不完整和冲突都是CONFLICT</span><br><span class="line">		flag=1;</span><br><span class="line">		int pos=s.front();</span><br><span class="line">		s.pop(),sum--;</span><br><span class="line">		for(int i=0;i&lt;map[pos].size();i++)</span><br><span class="line">		&#123;</span><br><span class="line">			in[map[pos][i]]--;</span><br><span class="line">			if(in[map[pos][i]]==0)</span><br><span class="line">			s.push(map[pos][i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	if(sum&gt;0) printf(&quot;CONFLICT\n&quot;);</span><br><span class="line">	else if(flag) printf(&quot;UNCERTAIN\n&quot;);</span><br><span class="line">	else printf(&quot;OK\n&quot;);</span><br><span class="line">&#125;</span><br><span class="line">int main()</span><br><span class="line">&#123;</span><br><span class="line">	while(scanf(&quot;%d %d&quot;,&amp;n,&amp;m)!=EOF)</span><br><span class="line">	&#123;</span><br><span class="line">		sum=n;</span><br><span class="line">		init();</span><br><span class="line">		memset(map,0,sizeof(map));</span><br><span class="line">		memset(in,0,sizeof(in));</span><br><span class="line">		for(int i=0;i&lt;m;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			scanf(&quot;%d %c %d&quot;,&amp;c[i].a,&amp;c[i].ch,&amp;c[i].b);</span><br><span class="line">			if(c[i].ch==&apos;=&apos;)</span><br><span class="line">			&#123;</span><br><span class="line">				if(comb(c[i].a,c[i].b))</span><br><span class="line">				sum--;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		for(int i=0;i&lt;m;i++)</span><br><span class="line">		&#123;</span><br><span class="line">			if(c[i].ch==&apos;=&apos;)</span><br><span class="line">			continue;</span><br><span class="line">			int x=find(c[i].a);</span><br><span class="line">			int y=find(c[i].b);</span><br><span class="line">			if(c[i].ch==&apos;&gt;&apos;)</span><br><span class="line">			&#123;</span><br><span class="line">				map[x].push_back(y);</span><br><span class="line">				in[y]++;</span><br><span class="line">			&#125;</span><br><span class="line">			else</span><br><span class="line">			&#123;</span><br><span class="line">				map[y].push_back(x);</span><br><span class="line">				in[x]++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		top_sort();</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p></p></div><div style="text-align:center;color:#ccc;font-size:14px">---------------- The End ----------------</div><div><div id="reward-container"><div></div><button id="reward-button" disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">打赏</button><div id="qr" style="display:none"><div style="display:inline-block"><img src="/images/wechatpay.jpg" alt="Yan 微信支付"><p>微信支付</p></div><div style="display:inline-block"><img src="/images/alipay.jpg" alt="Yan 支付宝"><p>支付宝</p></div></div></div></div><footer class="post-footer"><div class="post-tags"><a href="/tags/ACM/" rel="tag"><i class="fa fa-tag"></i> ACM</a> <a href="/tags/Algorithm/" rel="tag"><i class="fa fa-tag"></i> Algorithm</a> <a href="/tags/算法集训/" rel="tag"><i class="fa fa-tag"></i> 算法集训</a> <a href="/tags/图论/" rel="tag"><i class="fa fa-tag"></i> 图论</a></div><div class="post-nav"><div class="post-nav-next post-nav-item"><a href="/2019/08/06/Day18/" rel="next" title="Day18"><i class="fa fa-chevron-left"></i> Day18</a></div><span class="post-nav-divider"></span><div class="post-nav-prev post-nav-item"><a href="/2019/08/08/Day20/" rel="prev" title="Day20">Day20 <i class="fa fa-chevron-right"></i></a></div></div></footer></div></article></div></div><div class="comments" id="comments"><div id="lv-container" data-id="city" data-uid="MTAyMC80NDIxMi8yMDc0NQ=="></div></div></div><div class="sidebar-toggle"><div class="sidebar-toggle-line-wrap"><span class="sidebar-toggle-line sidebar-toggle-line-first"></span> <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span> <span class="sidebar-toggle-line sidebar-toggle-line-last"></span></div></div><aside id="sidebar" class="sidebar"><div class="sidebar-inner"><ul class="sidebar-nav motion-element"><li class="sidebar-nav-toc sidebar-nav-active" data-target="post-toc-wrap">文章目录</li><li class="sidebar-nav-overview" data-target="site-overview-wrap">站点概览</li></ul><div class="site-overview-wrap sidebar-panel"><div class="site-overview"><div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person"><img class="site-author-image" itemprop="image" src="/images/touxiang2.png" alt="Yan"><p class="site-author-name" itemprop="name">Yan</p><div class="site-description motion-element" itemprop="description">学无止境<br>正是因为不会不懂，才会选择去学习</div></div><nav class="site-state motion-element"><div class="site-state-item site-state-posts"><a href="/archives/"><span class="site-state-item-count">60</span> <span class="site-state-item-name">日志</span></a></div><div class="site-state-item site-state-categories"><a href="/categories/"><span class="site-state-item-count">25</span> <span class="site-state-item-name">分类</span></a></div><div class="site-state-item site-state-tags"><a href="/tags/"><span class="site-state-item-count">30</span> <span class="site-state-item-name">标签</span></a></div></nav><div class="feed-link motion-element"><a href="/atom.xml" rel="alternate"><i class="fa fa-rss"></i> RSS</a></div><link rel="stylesheet" href="/dist/APlayer.min.css"><div id="aplayer"></div><script type="text/javascript" src="/dist/APlayer.min.js"></script><script type="text/javascript" src="/dist/music.js"></script><div class="links-of-author motion-element"><span class="links-of-author-item"><a href="https://github.com/weakdouqing/weakdouqing.github.io" title="GitHub &rarr; https://github.com/weakdouqing/weakdouqing.github.io" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a> </span><span class="links-of-author-item"><a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=UGFkaGFnYmNpYGUQISF_Mz89" title="E-Mail &rarr; http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=UGFkaGFnYmNpYGUQISF_Mz89" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a></span></div><div class="links-of-blogroll motion-element links-of-blogroll-inline"><div class="links-of-blogroll-title"><i class="fa fa-fw fa-link"></i> 友情链接</div><ul class="links-of-blogroll-list"><li class="links-of-blogroll-item"><a href="https://cndrew.cn/" title="https://cndrew.cn/" rel="noopener" target="_blank">drew</a></li><li class="links-of-blogroll-item"><a href="https://blog.todest.cn/" title="https://blog.todest.cn/" rel="noopener" target="_blank">亦往沧劫</a></li><li class="links-of-blogroll-item"><a href="http://www.sqdxwz.com/" title="http://www.sqdxwz.com/" rel="noopener" target="_blank">赴京书生</a></li><li class="links-of-blogroll-item"><a href="http://inkwall233.github.io" title="http://inkwall233.github.io" rel="noopener" target="_blank">城墙墨</a></li><li class="links-of-blogroll-item"><a href="https://me.csdn.net/Acer12138" title="https://me.csdn.net/Acer12138" rel="noopener" target="_blank">shemplle</a></li><li class="links-of-blogroll-item"><a href="https://blogzhy.cn" title="https://blogzhy.cn" rel="noopener" target="_blank">ZHY</a></li></ul></div><p></p><div class="hitokoto-title"><i class="fa fa-paragraph"></i> <b>每日一句</b></div><div id="hitokoto">:D 获取中...</div><i id="hitofrom">:D 获取中...</i><script src="https://cdn.jsdelivr.net/npm/bluebird@3/js/browser/bluebird.min.js"></script><script src="https://cdn.jsdelivr.net/npm/whatwg-fetch@2.0.3/fetch.min.js"></script><script>fetch("https://v1.hitokoto.cn").then(function(t){return t.json()}).then(function(t){var o=document.getElementById("hitokoto");o.innerText="       "+t.hitokoto;var n=document.getElementById("hitofrom");n.innerText="——"+t.from+" "})["catch"](function(t){console.error(t)})</script></div></div><div class="post-toc-wrap motion-element sidebar-panel sidebar-panel-active"><div class="post-toc"><div class="post-toc-content"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#Day19"><span class="nav-number">1.</span> <span class="nav-text">Day19</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#加一个-假-模板"><span class="nav-number">1.1.</span> <span class="nav-text">加一个(假)模板</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Genealogical-tree"><span class="nav-number">2.</span> <span class="nav-text">Genealogical tree</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Window-Pains"><span class="nav-number">3.</span> <span class="nav-text">Window Pains</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#确定比赛名次（拓扑排序）"><span class="nav-number">4.</span> <span class="nav-text">确定比赛名次（拓扑排序）</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#产生冠军"><span class="nav-number">5.</span> <span class="nav-text">产生冠军</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Legal-or-Not"><span class="nav-number">6.</span> <span class="nav-text">Legal or Not</span></a></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Reward"><span class="nav-number">7.</span> <span class="nav-text">Reward</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#Ordering-Tasks"><span class="nav-number">7.1.</span> <span class="nav-text">Ordering Tasks</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#Rank-of-Tetris"><span class="nav-number">7.2.</span> <span class="nav-text">Rank of Tetris</span></a></li></ol></li></ol></div></div></div></div></aside></div></main><footer id="footer" class="footer"><div class="footer-inner"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div class="copyright">&copy; <span itemprop="copyrightYear">2019</span> <span class="with-love" id="animate"><i class="fa fa-user"></i> </span><span class="author" itemprop="copyrightHolder">Yan</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-area-chart"></i> </span><span title="站点总字数">579k</span> <span class="post-meta-divider">|</span> <span class="post-meta-item-icon"><i class="fa fa-coffee"></i> </span><span title="站点阅读时长">8:47</span></div><div class="powered-by"><i class="fa fa-user-md"></i> <span id="busuanzi_container_site_uv">本站访客数:<span id="busuanzi_value_site_uv"></span> </span><span class="post-meta-divider">|</span> <span id="busuanzi_container_site_pv">本站总访问量<span id="busuanzi_value_site_pv"></span>次</span></div><br><div class="theme-info"><div class="powered-by"></div><span class="post-count">博客全站共175.7k字</span></div></div></footer><div class="back-to-top"><i class="fa fa-arrow-up"></i> <span id="scrollpercent"><span>0</span>%</span></div></div><script>"[object Function]"!==Object.prototype.toString.call(window.Promise)&&(window.Promise=null)</script><script color="0,0,255" opacity="0.5" zindex="-1" count="99" src="true"></script><script src="/lib/jquery/index.js?v=2.1.3"></script><script src="/lib/velocity/velocity.min.js?v=1.2.1"></script><script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script><script src="/lib/fancybox/source/jquery.fancybox.pack.js"></script><script src="/js/utils.js?v=7.1.1"></script><script src="/js/motion.js?v=7.1.1"></script><script src="/js/schemes/muse.js?v=7.1.1"></script><script src="/js/scrollspy.js?v=7.1.1"></script><script src="/js/post-details.js?v=7.1.1"></script><script src="/js/next-boot.js?v=7.1.1"></script><script>window.livereOptions={refer:"2019/08/07/Day19/"},function(e,t){var n,r=e.getElementsByTagName(t)[0];"function"!=typeof LivereTower&&(n=e.createElement(t),n.src="https://cdn-city.livere.com/js/embed.dist.js",n.async=!0,r.parentNode.insertBefore(n,r))}(document,"script")</script><script>function proceedsearch(){$("body").append('<div class="search-popup-overlay local-search-pop-overlay"></div>').css("overflow","hidden"),$(".search-popup-overlay").click(onPopupClose),$(".popup").toggle();var e=$("#local-search-input");e.attr("autocapitalize","none"),e.attr("autocorrect","off"),e.focus()}var isfetched=!1,isXml=!0,search_path="search.xml";0===search_path.length?search_path="search.xml":/json$/i.test(search_path)&&(isXml=!1);var path="/"+search_path,onPopupClose=function(e){$(".popup").hide(),$("#local-search-input").val(""),$(".search-result-list").remove(),$("#no-result").remove(),$(".local-search-pop-overlay").remove(),$("body").css("overflow","")},searchFunc=function(e,t,o){"use strict";$("body").append('<div class="search-popup-overlay local-search-pop-overlay"><div id="search-loading-icon"><i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i></div></div>').css("overflow","hidden"),$("#search-loading-icon").css("margin","20% auto 0 auto").css("text-align","center"),$.ajax({url:e,dataType:isXml?"xml":"json",async:!0,success:function(e){isfetched=!0,$(".popup").detach().appendTo(".header-inner");var n=isXml?$("entry",e).map(function(){return{title:$("title",this).text(),content:$("content",this).text(),url:$("url",this).text()}}).get():e,r=document.getElementById(t),s=document.getElementById(o),a=function(){var e=r.value.trim().toLowerCase(),t=e.split(/[\s\-]+/);t.length>1&&t.push(e);var o=[];if(e.length>0&&n.forEach(function(n){function r(t,o,n,r){for(var s=r[r.length-1],a=s.position,i=s.word,l=[],h=0;a+i.length<=n&&0!=r.length;){i===e&&h++,l.push({position:a,length:i.length});var p=a+i.length;for(r.pop();0!=r.length&&(s=r[r.length-1],a=s.position,i=s.word,p>a);)r.pop()}return c+=h,{hits:l,start:o,end:n,searchTextCount:h}}function s(e,t){var o="",n=t.start;return t.hits.forEach(function(t){o+=e.substring(n,t.position);var r=t.position+t.length;o+='<b class="search-keyword">'+e.substring(t.position,r)+"</b>",n=r}),o+=e.substring(n,t.end)}var a=!1,i=0,c=0,l=n.title.trim(),h=l.toLowerCase(),p=n.content.trim().replace(/<[^>]+>/g,""),u=p.toLowerCase(),f=decodeURIComponent(n.url).replace(/\/{2,}/g,"/"),d=[],g=[];if(""!=l&&(t.forEach(function(e){function t(e,t,o){var n=e.length;if(0===n)return[];var r=0,s=[],a=[];for(o||(t=t.toLowerCase(),e=e.toLowerCase());(s=t.indexOf(e,r))>-1;)a.push({position:s,word:e}),r=s+n;return a}d=d.concat(t(e,h,!1)),g=g.concat(t(e,u,!1))}),(d.length>0||g.length>0)&&(a=!0,i=d.length+g.length)),a){[d,g].forEach(function(e){e.sort(function(e,t){return t.position!==e.position?t.position-e.position:e.word.length-t.word.length})});var v=[];0!=d.length&&v.push(r(l,0,l.length,d));for(var $=[];0!=g.length;){var C=g[g.length-1],m=C.position,x=C.word,w=m-20,y=m+80;w<0&&(w=0),y<m+x.length&&(y=m+x.length),y>p.length&&(y=p.length),$.push(r(p,w,y,g))}$.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hits.length!==t.hits.length?t.hits.length-e.hits.length:e.start-t.start});var T=parseInt("1");T>=0&&($=$.slice(0,T));var b="";b+=0!=v.length?"<li><a href='"+f+"' class='search-result-title'>"+s(l,v[0])+"</a>":"<li><a href='"+f+"' class='search-result-title'>"+l+"</a>",$.forEach(function(e){b+="<a href='"+f+'\'><p class="search-result">'+s(p,e)+"...</p></a>"}),b+="</li>",o.push({item:b,searchTextCount:c,hitCount:i,id:o.length})}}),1===t.length&&""===t[0])s.innerHTML='<div id="no-result"><i class="fa fa-search fa-5x"></i></div>';else if(0===o.length)s.innerHTML='<div id="no-result"><i class="fa fa-frown-o fa-5x"></i></div>';else{o.sort(function(e,t){return e.searchTextCount!==t.searchTextCount?t.searchTextCount-e.searchTextCount:e.hitCount!==t.hitCount?t.hitCount-e.hitCount:t.id-e.id});var a='<ul class="search-result-list">';o.forEach(function(e){a+=e.item}),a+="</ul>",s.innerHTML=a}};r.addEventListener("input",a),$(".local-search-pop-overlay").remove(),$("body").css("overflow",""),proceedsearch()}})};$(".popup-trigger").click(function(e){e.stopPropagation(),isfetched===!1?searchFunc(path,"local-search-input","local-search-result"):proceedsearch()}),$(".popup-btn-close").click(onPopupClose),$(".popup").click(function(e){e.stopPropagation()}),$(document).on("keyup",function(e){var t=27===e.which&&$(".search-popup").is(":visible");t&&onPopupClose()})</script><script>$(".highlight").not(".gist .highlight").each(function(t,e){var n=$("<div>").addClass("highlight-wrap");$(e).after(n),n.append($("<button>").addClass("copy-btn").append("复制").on("click",function(t){var e=$(this).parent().find(".code").find(".line").map(function(t,e){return $(e).text()}).toArray().join("\n"),n=document.createElement("textarea"),o=window.pageYOffset||document.documentElement.scrollTop;n.style.top=o+"px",n.style.position="absolute",n.style.opacity="0",n.readOnly=!0,n.value=e,document.body.appendChild(n),n.select(),n.setSelectionRange(0,e.length),n.readOnly=!1;var i=document.execCommand("copy");i?$(this).text("复制成功"):$(this).text("复制失败"),n.blur(),$(this).blur()})).on("mouseleave",function(t){var e=$(this).find(".copy-btn");setTimeout(function(){e.text("复制")},300)}).append(e)})</script><script type="text/javascript" color="0,255,255" opacity="1" zindex="-2" count="105" src="//cdn.bootcss.com/canvas-nest.js/1.0.0/canvas-nest.min.js"></script><script src="/live2d-widget-master/autoload.js"></script><script type="text/javascript" src="/js/src/clicklove.js"></script></body></html><!-- rebuild by neat -->